"use strict";const localCookie={getItem:e=>decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[-.+*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null,setItem:(e,t,o="/",r=window.location.hostname,i,n)=>{if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;let a="";var s;return i&&("number"==typeof i?((s=new Date).setTime(s.getTime()+24*i*60*60*1e3),a="; expires="+s.toUTCString()):"string"==typeof i?a="; expires="+i:i instanceof Date&&(a="; expires="+i.toUTCString())),document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+a+(r?"; domain="+r:"")+(o?"; path="+o:"")+(n?"; secure":""),!0},removeItem:(e,t="/",o=window.location.hostname)=>!(!e||!localCookie.hasItem(e)||(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"+(o?"; domain="+o:"")+(t?"; path="+t:"")+"; secure",0)),hasItem:function(e){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[-.+*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){var t=document.cookie.replace(/((?:^|\s*;)[^]+)(?=;|$)|^\s*|\s*(?:[^;]*)?(?:|$)/g,"").split(/\s*(?:[^;]*)?;\s*/);for(let e=0;e<t.length;e++)t[e]=decodeURIComponent(t[e]);return t},clear:function(){var t=this.keys();for(let e=0;e<t.length;e++)this.removeItem(t[e])}};function checkNull(e){return!!(null==e||""===e||"number"==typeof e&&isNaN(e))||!(!Array.isArray(e)||0!==e.length)}function checkNotNull(e){return!checkNull(e)}function strLength(t){let o=0;if(t){var r=t.length;for(let e=0;e<r;e++)255<t.charCodeAt(e)?o+=2:o++;return o}return 0}function formatBytes(e,{decimals:t=1,from:o="B",to:r="auto"}={}){var i,n;return e<0?"-"+formatBytes(-e,{decimals:t,from:o,to:r}):0===e?"0 B":(i=1024,t=t<0?0:t,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],o="auto"===o?Math.floor(Math.log(e)/Math.log(i)):n.indexOf(o),e/=Math.pow(i,o),"auto"===r?(o=Math.floor(Math.log(e)/Math.log(i)),parseFloat((e/Math.pow(i,o)).toFixed(t))+" "+n[o]):parseFloat(e.toFixed(t))+" "+r)}function checkPassword(e,{minLength:t=8,maxLength:o=16,types:r=["number","lowercase","uppercase","special"],minTypes:i=2,maxTypes:n=4}={}){if(e.length<t||e.length>o)return!1;let a=0;return-1<r.indexOf("number")&&/\d/.test(e)&&a++,-1<r.indexOf("lowercase")&&/[a-z]/.test(e)&&a++,-1<r.indexOf("uppercase")&&/[A-Z]/.test(e)&&a++,-1<r.indexOf("special")&&/[~!@#$%^&*()_+`\-={}:";'<>?,.\/]/.test(e)&&a++,!(a<i||a>n)}function checkEmail(e){return/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/.test(e)}const url={getQuery(e){e=window.location.search.match(new RegExp("[?&]"+e+"=([^&]+)","i"));return null==e||e.length<1?"":e[1]},getHash(e){e=window.location.hash.match(new RegExp("[#&]"+e+"=([^&]+)","i"));return null==e||e.length<1?"":e[1]},getPath(e=!1){let t;return t=e?(t=window.location.href,e=window.location.origin,t.replace(e,"")):window.location.pathname},setPath(e){try{return window.history.pushState({},"",e),!0}catch(e){return console.log(e),!1}},setHash(e){try{return window.location.hash=e,!0}catch(e){return console.log(e),!1}},setQuery(e,t){try{var o=new URLSearchParams(window.location.search);return o.set(e,t),window.history.pushState({},"",window.location.pathname+"?"+o.toString()),!0}catch(e){return console.log(e),!1}}};function getPreURL(){var e=window.history.state.back;return checkNotNull(e)?e:document.referrer}const notificationPermission={check:()=>"Notification"in window&&("granted"===Notification.permission||"denied"!==Notification.permission&&null),request:async()=>{var e=notificationPermission.check();return null==e?"granted"===await Notification.requestPermission():e}},clipboardPermission={check:async()=>{if(!("Clipboard"in window))return!1;try{var e=await navigator.permissions.query({name:"clipboard-write"});return"granted"===e.state||"prompt"===e.state&&null}catch{return!1}},request:async()=>{let e=await clipboardPermission.check();if(null!==e)return!0===e;try{return await navigator.clipboard.readText(),!0}catch{return!0===(e=await clipboardPermission.check())}}},locationPermission={check:async()=>{if(!("geolocation"in navigator))return!1;try{var e=await navigator.permissions.query({name:"geolocation"});return"granted"===e.state||"prompt"===e.state&&null}catch{return!1}},request:async()=>{let e=await locationPermission.check();if(null!==e)return!0===e;try{return await navigator.geolocation.getCurrentPosition(()=>{}),!0}catch{return!0===(e=await locationPermission.check())}}};function updateObjectFromImport(e,t){for(var o in t)e.hasOwnProperty(o)&&("object"==typeof t[o]&&"object"==typeof e[o]?updateObjectFromImport(e[o],t[o]):checkNotNull(e[o])&&(t[o]=e[o]));return t}function shakeObject(t,e){let o={};return e.forEach(e=>{t.hasOwnProperty(e)&&(o[e]=t[e])}),o}const clipboard={read:async(e=!0)=>{return 1==await clipboardPermission.request()?e?await navigator.clipboard.readText():await navigator.clipboard.read():null},write:async e=>{if(1!=await clipboardPermission.request())return!1;try{return"string"==typeof e?await navigator.clipboard.writeText(e):await navigator.clipboard.write(e),!0}catch(e){return console.error(e),!1}}};function checkDeviceType(e=["os","browser","device","platform"]){const t=navigator.userAgent;let o=!1,r;"string"==typeof e&&(o=!0,e=[e],r=e[0]);var i={os:e.includes("os")?/Windows/i.test(t)?"windows":/Macintosh/i.test(t)?"mac":/Linux/i.test(t)?"linux":/HarmonyOS/i.test(t)?"harmonyos":/Android/i.test(t)?"android":/iPhone/i.test(t)||/iPod/i.test(t)||/iPad/i.test(t)?"ios":"other":"",browser:e.includes("browser")?/MicroMessenger/i.test(t)?"wechat":/QQ/i.test(t)?"qq":/Alipay/i.test(t)?"alipay":/Weibo/i.test(t)?"weibo":/DingTalk/i.test(t)?"dingtalk":/Taobao/i.test(t)?"taobao":/Tmall/i.test(t)?"tmall":/Edge/i.test(t)?"edge":/Opera/i.test(t)?"opera":/360SE/i.test(t)?"360":/UCBrowser/i.test(t)?"uc":/Baidu/i.test(t)?"baidu":/Chrome/i.test(t)?"chrome":/Safari/i.test(t)?"safari":/Firefox/i.test(t)?"firefox":/MSIE/i.test(t)?"ie":"other":"",device:e.includes("device")?function(){var e=t.match(/(iPad).*OS\s([\d_]+)|(iPod)(.*OS\s([\d_]+))?|(iPhone\sOS)\s([\d_]+)|(Android);?[\s\/]+([\d.]+)?|(Windows\sPhone)\sOS\s([\d.]+)|(Windows\sNT)\s([\d.]+)|(Macintosh);.*Mac\sOS\sX\s([\d_]+)|(Linux)\s?([\d.]+)?/);if(e){if(e[1]||e[3]||e[5])return"tablet";if(e[7]||e[9]||e[11])return"mobile";if(e[13]||e[15]||e[17])return"pc"}return"other"}():"",platform:e.includes("platform")?"web":""};return!0===o?i[r]:shakeObject(i,e)}function filterUniqueByProperty(e,r){return e.filter((t,e,o)=>{return-1===o.slice(e+1).findIndex(e=>e[r]===t[r])})}function formatNumber(e,t=2){t=Math.pow(10,t);return(Math.floor(e*t)/t).toString()}function afterTime(e,t="Date"){let o;if("number"==typeof e)o=new Date(Date.now()+e);else if("string"==typeof e)o=new Date(Date.now()+Number(e));else{if(!(e instanceof Date))throw new Error("输入参数类型错误");o=new Date(Date.now()+e.getTime())}return"date"===t.toLowerCase()?o:"number"===t.toLowerCase()?o.getTime():"string"===t.toLowerCase()?o.toISOString():void 0}const info={name:"galanga",author:"censujiang",type:"main"};exports.afterTime=afterTime,exports.checkDeviceType=checkDeviceType,exports.checkEmail=checkEmail,exports.checkNotNull=checkNotNull,exports.checkNull=checkNull,exports.checkPassword=checkPassword,exports.clipboard=clipboard,exports.clipboardPermission=clipboardPermission,exports.filterUniqueByProperty=filterUniqueByProperty,exports.formatBytes=formatBytes,exports.formatNumber=formatNumber,exports.getPreURL=getPreURL,exports.info=info,exports.localCookie=localCookie,exports.locationPermission=locationPermission,exports.notificationPermission=notificationPermission,exports.shakeObject=shakeObject,exports.strLength=strLength,exports.updateObjectFromImport=updateObjectFromImport,exports.url=url;
