const t={getItem:t=>decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[-.+*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null,setItem:(t,e,n="/",o=window.location.hostname,r,i)=>{if(!t||/^(?:expires|max\-age|path|domain|secure)$/i.test(t))return!1;let a="";if(r)if("number"==typeof r){const t=new Date;t.setTime(t.getTime()+24*r*60*60*1e3),a="; expires="+t.toUTCString()}else"string"==typeof r?a="; expires="+r:r instanceof Date&&(a="; expires="+r.toUTCString());return document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+a+(o?"; domain="+o:"")+(n?"; path="+n:"")+(i?"; secure":""),!0},removeItem:(e,n="/",o=window.location.hostname)=>!(!e||!t.hasItem(e))&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"+(o?"; domain="+o:"")+(n?"; path="+n:"")+"; secure",!0),hasItem:function(t){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(t).replace(/[-.+*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){const t=document.cookie.replace(/((?:^|\s*;)[^]+)(?=;|$)|^\s*|\s*(?:[^;]*)?(?:|$)/g,"").split(/\s*(?:[^;]*)?;\s*/);for(let e=0;e<t.length;e++)t[e]=decodeURIComponent(t[e]);return t},clear:function(){const t=this.keys();for(let e=0;e<t.length;e++)this.removeItem(t[e])}},e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function n(t){return!!(null==t||""===t||"number"==typeof t&&isNaN(t))||!(!Array.isArray(t)||0!==t.length)}function o(t){return!n(t)}function r(t){let e=0;if(t){const n=t.length;for(let o=0;o<n;o++)t.charCodeAt(o)>255?e+=2:e++;return e}return 0}function i(t,{decimals:e=1,from:n="B",to:o="auto"}={}){if(t<0)return"-"+i(-t,{decimals:e,from:n,to:o});if(0===t)return"0 B";{const r=1024,i=e<0?0:e,a=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],s="auto"===n?Math.floor(Math.log(t)/Math.log(r)):a.indexOf(n);if(t/=Math.pow(r,s),"auto"===o){const e=Math.floor(Math.log(t)/Math.log(r));return parseFloat((t/Math.pow(r,e)).toFixed(i))+" "+a[e]}return parseFloat(t.toFixed(i))+" "+o}}function a(t,{minLength:e=8,maxLength:n=16,types:o=["number","lowercase","uppercase","special"],minTypes:r=2,maxTypes:i=4}={}){if(t.length<e||t.length>n)return!1;let a=0;return o.indexOf("number")>-1&&/\d/.test(t)&&a++,o.indexOf("lowercase")>-1&&/[a-z]/.test(t)&&a++,o.indexOf("uppercase")>-1&&/[A-Z]/.test(t)&&a++,o.indexOf("special")>-1&&/[~!@#$%^&*()_+`\-={}:";'<>?,.\/]/.test(t)&&a++,!(a<r||a>i)}function s(t){return/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/.test(t)}function c(t){let n=e.length,o=[];do{let r=t%n;t=(t-r)/n,o.unshift(e[r])}while(t);return o.join("")}function u(t){"number"==typeof t&&(t=t.toString());let n=e.length,o=t.length,r=0,i=0;for(;r<o;)i+=Math.pow(n,r++)*e.indexOf(t.charAt(o-r)||"0");return Number(i)}function l(t){let e=t.split("/");return e[e.length-1]}function d(t){let e=t.split(".");return e[e.length-1]}function h({title:t="none",siteName:e="Galanga",separator:n="-",reverse:o=!1}={}){return n=" "+n+" ",o?e+n+t:t+n+e}const f={getQuery(t){const e=window.location.search.match(new RegExp("[?&]"+t+"=([^&]+)","i"));return null==e||e.length<1?"":e[1]},getHash(t){const e=window.location.hash.match(new RegExp("[#&]"+t+"=([^&]+)","i"));return null==e||e.length<1?"":e[1]},getPath(t=!1){let e;if(t){e=window.location.href;const t=window.location.origin;e=e.replace(t,"")}else e=window.location.pathname;return e},setPath(t){try{return window.history.pushState({},"",t),!0}catch(t){return console.log(t),!1}},setHash(t){try{return window.location.hash=t,!0}catch(t){return console.log(t),!1}},setQuery(t,e){try{const n=new URLSearchParams(window.location.search);return n.set(t,e),window.history.pushState({},"",`${window.location.pathname}?${n.toString()}`),!0}catch(t){return console.log(t),!1}}};function w(){const t=window.history.state.back;return o(t)?t:document.referrer}const p={check:()=>"Notification"in window&&("granted"===Notification.permission||"denied"!==Notification.permission&&null),request:async()=>{let t=p.check();if(null==t){return"granted"===await Notification.requestPermission()}return t}},g={check:async()=>{if(!("Clipboard"in window))return!1;try{const t="clipboard-write",e=await navigator.permissions.query({name:t});return"granted"===e.state||"prompt"===e.state&&null}catch{return!1}},request:async()=>{let t=await g.check();if(null!==t)return!0===t;try{return await navigator.clipboard.readText(),!0}catch{return t=await g.check(),!0===t}}},m={check:async()=>{if(!("geolocation"in navigator))return!1;try{const t="geolocation",e=await navigator.permissions.query({name:t});return"granted"===e.state||"prompt"===e.state&&null}catch{return!1}},request:async()=>{let t=await m.check();if(null!==t)return!0===t;try{return await navigator.geolocation.getCurrentPosition((()=>{})),!0}catch{return t=await m.check(),!0===t}}};function y(t,e){for(let n in e)t.hasOwnProperty(n)&&("object"==typeof e[n]&&"object"==typeof t[n]?y(t[n],e[n]):o(t[n])&&(e[n]=t[n]));return e}function x(t,e){let n={};return e.forEach((e=>{t.hasOwnProperty(e)&&(n[e]=t[e])})),n}const b={read:async(t=!0)=>{if(1==await g.request()){if(t){return await navigator.clipboard.readText()}return await navigator.clipboard.read()}return null},write:async t=>{if(1!=await g.request())return!1;try{return"string"==typeof t?await navigator.clipboard.writeText(t):await navigator.clipboard.write(t),!0}catch(t){return console.error(t),!1}}};function v(t=["os","browser","device","platform"]){const e=navigator.userAgent;let n,o=!1;"string"==typeof t&&(o=!0,n=(t=[t])[0]);const r={os:t.includes("os")?/Windows/i.test(e)?"windows":/Macintosh/i.test(e)?"mac":/Linux/i.test(e)?"linux":/HarmonyOS/i.test(e)?"harmonyos":/Android/i.test(e)?"android":/iPhone/i.test(e)||/iPod/i.test(e)||/iPad/i.test(e)?"ios":"other":"",browser:t.includes("browser")?/MicroMessenger/i.test(e)?"wechat":/QQ/i.test(e)?"qq":/Alipay/i.test(e)?"alipay":/Weibo/i.test(e)?"weibo":/DingTalk/i.test(e)?"dingtalk":/Taobao/i.test(e)?"taobao":/Tmall/i.test(e)?"tmall":/Edge/i.test(e)?"edge":/Opera/i.test(e)?"opera":/360SE/i.test(e)?"360":/UCBrowser/i.test(e)?"uc":/Baidu/i.test(e)?"baidu":/Chrome/i.test(e)?"chrome":/Safari/i.test(e)?"safari":/Firefox/i.test(e)?"firefox":/MSIE/i.test(e)?"ie":"other":"",device:t.includes("device")?function(){const t=e.match(/(iPad).*OS\s([\d_]+)|(iPod)(.*OS\s([\d_]+))?|(iPhone\sOS)\s([\d_]+)|(Android);?[\s\/]+([\d.]+)?|(Windows\sPhone)\sOS\s([\d.]+)|(Windows\sNT)\s([\d.]+)|(Macintosh);.*Mac\sOS\sX\s([\d_]+)|(Linux)\s?([\d.]+)?/);if(t){if(t[1]||t[3]||t[5])return"tablet";if(t[7]||t[9]||t[11])return"mobile";if(t[13]||t[15]||t[17])return"pc"}return"other"}():"",platform:t.includes("platform")?"web":""};return!0===o?r[n]:x(r,t)}function S({content:t="none",title:e="galanga",url:n="",type:o="none"}={}){const r=e+" "+t+"\n"+n;async function i(){g.request();1==await b.write(r)?alert("已将分享内容复制到剪切板。"):prompt("请您复制以下内容并手动分享。",r)}navigator.share?navigator.share({title:e,text:t,url:n}).catch((t=>{console.log("Not support navigator share",t),i()})):i()}function T(t,e){return t.filter(((t,n,o)=>-1===o.slice(n+1).findIndex((n=>n[e]===t[e]))))}function k(t,e=2){const n=Math.pow(10,e);return(Math.floor(t*n)/n).toString()}function C(t=0,e=100,n=1){return k(t/e*100,n)+"%"}function M(t,e="Date"){let n;if("number"==typeof t)n=new Date(Date.now()+t);else if("string"==typeof t)n=new Date(Date.now()+Number(t));else{if(!(t instanceof Date))throw new Error("输入参数类型错误");n=new Date(Date.now()+t.getTime())}return"date"===e.toLowerCase()?n:"number"===e.toLowerCase()?n.getTime():"string"===e.toLowerCase()?n.toISOString():void 0}const I=t=>new Promise((e=>setTimeout(e,t))),O={name:"galanga",author:"censujiang",type:"main"};export{M as afterTime,v as checkDeviceType,s as checkEmail,o as checkNotNull,n as checkNull,a as checkPassword,b as clipboard,g as clipboardPermission,u as decode62,c as encode62,T as filterUniqueByProperty,i as formatBytes,k as formatNumber,C as formatPercent,d as getFileExtFromString,l as getFileNameFromURL,w as getPreURL,O as info,t as localCookie,m as locationPermission,p as notificationPermission,x as shakeObject,S as share,I as sleep,h as spliceSiteTitle,r as strLength,y as updateObjectFromImport,f as url};
