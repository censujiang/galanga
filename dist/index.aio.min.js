!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).galanga={})}(this,function(e){"use strict";var t={getItem:function(e){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[-.+*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(t,n,r,i,o,a){if(t&&!/^(?:expires|max-age|path|domain|secure)$/i.test(t)){let e="";if(r)switch(r.constructor){case Number:e=r===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+r;break;case String:e="; expires="+r;break;case Date:e="; expires="+r.toUTCString()}document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(n)+e+(o?"; domain="+o:"")+(i?"; path="+i:"")+(a?"; secure":"")}},removeItem:function(e,t="/",n=window.location.hostname){if(!e||!this.hasItem(e))return!1;document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(t?"; path="+t:"")},hasItem:function(e){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[-.+*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){var t=document.cookie.replace(/((?:^|\s*;)[^]+)(?=;|$)|^\s*|\s*(?:[^;]*)?(?:|$)/g,"").split(/\s*(?:[^;]*)?;\s*/);for(let e=0;e<t.length;e++)t[e]=decodeURIComponent(t[e]);return t},clear:function(){var t=this.keys();for(let e=0;e<t.length;e++)this.removeItem(t[e])}},n={getQuery(e){e=window.location.search.match(new RegExp("[?&]"+e+"=([^&]+)","i"));return null==e||e.length<1?"":e[1]},getHash(e){e=window.location.hash.match(new RegExp("[#&]"+e+"=([^&]+)","i"));return null==e||e.length<1?"":e[1]},getPath(){return window.location.pathname}};function r(e){return!!(null==e||""===e||"number"==typeof e&&isNaN(e))||!(!Array.isArray(e)||0!==e.length)}function i(e){return!r(e)}const o={check:()=>"Notification"in window&&("granted"===Notification.permission||"denied"!==Notification.permission&&null),request:async()=>{var e=o.check();return null==e?"granted"===await Notification.requestPermission():e}},a={check:async()=>{if(!("Clipboard"in window))return!1;try{var e=await navigator.permissions.query({name:"clipboard-write"});return"granted"===e.state||"prompt"===e.state&&null}catch{return!1}},request:async()=>{let e=await a.check();if(null!==e)return!0===e;try{return await navigator.clipboard.readText(),!0}catch{return!0===(e=await a.check())}}},s={check:async()=>{if(!("geolocation"in navigator))return!1;try{var e=await navigator.permissions.query({name:"geolocation"});return"granted"===e.state||"prompt"===e.state&&null}catch{return!1}},request:async()=>{let e=await s.check();if(null!==e)return!0===e;try{return await navigator.geolocation.getCurrentPosition(()=>{}),!0}catch{return!0===(e=await s.check())}}};function c(t,e){let n={};return e.forEach(e=>{t.hasOwnProperty(e)&&(n[e]=t[e])}),n}var u={read:async(e=!0)=>{return 1==await a.request()?e?await navigator.clipboard.readText():await navigator.clipboard.read():null},write:async e=>{if(1!=await a.request())return!1;try{return"string"==typeof e?await navigator.clipboard.writeText(e):await navigator.clipboard.write(e),!0}catch(e){return console.error(e),!1}}};e.checkDeviceType=function(e=["os","browser","device","platform"]){const t=navigator.userAgent;let n=!1,r;"string"==typeof e&&(n=!0,e=[e],r=e[0]);var i={os:e.includes("os")?/Windows/i.test(t)?"windows":/Macintosh/i.test(t)?"mac":/Linux/i.test(t)?"linux":/HarmonyOS/i.test(t)?"harmonyos":/Android/i.test(t)?"android":/iPhone/i.test(t)||/iPod/i.test(t)||/iPad/i.test(t)?"ios":"other":"",browser:e.includes("browser")?/MicroMessenger/i.test(t)?"wechat":/QQ/i.test(t)?"qq":/Alipay/i.test(t)?"alipay":/Weibo/i.test(t)?"weibo":/DingTalk/i.test(t)?"dingtalk":/Taobao/i.test(t)?"taobao":/Tmall/i.test(t)?"tmall":/Edge/i.test(t)?"edge":/Opera/i.test(t)?"opera":/360SE/i.test(t)?"360":/UCBrowser/i.test(t)?"uc":/Baidu/i.test(t)?"baidu":/Chrome/i.test(t)?"chrome":/Safari/i.test(t)?"safari":/Firefox/i.test(t)?"firefox":/MSIE/i.test(t)?"ie":"other":"",device:e.includes("device")?function(){var e=t.match(/(iPad).*OS\s([\d_]+)|(iPod)(.*OS\s([\d_]+))?|(iPhone\sOS)\s([\d_]+)|(Android);?[\s\/]+([\d.]+)?|(Windows\sPhone)\sOS\s([\d.]+)|(Windows\sNT)\s([\d.]+)|(Macintosh);.*Mac\sOS\sX\s([\d_]+)|(Linux)\s?([\d.]+)?/);if(e){if(e[1]||e[3]||e[5])return"tablet";if(e[7]||e[9]||e[11])return"mobile";if(e[13]||e[15]||e[17])return"pc"}return"other"}():"",platform:e.includes("platform")?"web":""};return!0===n?i[r]:c(i,e)},e.checkEmail=function(e){return/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/.test(e)},e.checkNotNull=i,e.checkNull=r,e.checkPassword=function(e,{minLength:t=8,maxLength:n=16,types:r=["number","lowercase","uppercase","special"],minTypes:i=2,maxTypes:o=4}={}){if(e.length<t||e.length>n)return!1;let a=0;return-1<r.indexOf("number")&&/\d/.test(e)&&a++,-1<r.indexOf("lowercase")&&/[a-z]/.test(e)&&a++,-1<r.indexOf("uppercase")&&/[A-Z]/.test(e)&&a++,-1<r.indexOf("special")&&/[~!@#$%^&*()_+`\-={}:";'<>?,.\/]/.test(e)&&a++,!(a<i||a>o)},e.clipboard=u,e.clipboardPermission=a,e.filterUniqueByProperty=function(e,r){return e.filter((t,e,n)=>{return-1===n.slice(e+1).findIndex(e=>e[r]===t[r])})},e.formatBytes=function e(t,{decimals:n=1,from:r="B",to:i="auto"}={}){var o,a;return t<0?"-"+e(-t,{decimals:n,from:r,to:i}):0===t?"0 B":(o=1024,n=n<0?0:n,a=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],r="auto"===r?Math.floor(Math.log(t)/Math.log(o)):a.indexOf(r),t/=Math.pow(o,r),"auto"===i?(r=Math.floor(Math.log(t)/Math.log(o)),parseFloat((t/Math.pow(o,r)).toFixed(n))+" "+a[r]):parseFloat(t.toFixed(n))+" "+i)},e.formatNumber=function(e,t=2){return t=Math.pow(10,t),(Math.floor(e*t)/t).toString()},e.info={name:"galanga",author:"censujiang",type:"main"},e.localCookie=t,e.locationPermission=s,e.notificationPermission=o,e.shakeObject=c,e.strLength=function(t){let n=0;if(t){var r=t.length;for(let e=0;e<r;e++)255<t.charCodeAt(e)?n+=2:n++;return n}return 0},e.updateObjectFromImport=function e(t,n){for(var r in n)t.hasOwnProperty(r)&&("object"==typeof n[r]&&"object"==typeof t[r]?e(t[r],n[r]):i(t[r])&&(n[r]=t[r]));return n},e.url=n});
